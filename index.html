<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Meine Wunschliste</title>
    <meta name="description" content="W√ºnsche erstellen, teilen und verwalten ‚Äì schnell, sch√∂n und sicher.">
    <link rel="canonical" href="https://wunschzettel-a.netlify.app/">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="apple-touch-icon" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pptxgenjs@3.12.0/dist/pptxgen.bundle.js"></script>
</head>
<body>
    <!-- Login/Register Screen -->
    <div id="authScreen" class="auth-screen">
        <div class="auth-container">
            <h1>Meine Wunschliste</h1>
            
            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <h2>Anmelden</h2>
                <form id="loginFormElement">
                    <div class="form-group">
                        <label for="loginEmail">Email:</label>
                        <input type="email" id="loginEmail" required placeholder="deine@email.com">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Passwort:</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <small id="loginError" class="form-error"></small>
                    <button type="submit" class="btn btn-primary">Anmelden</button>
                    <p class="auth-switch">Noch kein Account? <a href="#" id="showRegister">Registrieren</a></p>
                </form>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="auth-form" style="display: none;">
                <h2>Registrieren</h2>
                <form id="registerFormElement">
                    <div class="form-group">
                        <label for="registerName">Name:</label>
                        <input type="text" id="registerName" required placeholder="Dein Name">
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email:</label>
                        <input type="email" id="registerEmail" required placeholder="deine@email.com">
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Passwort:</label>
                        <input type="password" id="registerPassword" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="registerBirthday">Geburtstag:</label>
                        <input type="date" id="registerBirthday" required>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="registerEmailNotifications" checked>
                            Email-Benachrichtigungen erhalten (bei neuen Geschenken)
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary" id="registerSubmitBtn">Registrieren</button>
                    <p class="auth-switch">Bereits registriert? <a href="#" id="showLogin">Anmelden</a></p>
                </form>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
        <div id="appScreen" style="display: none;">
            <!-- Dynamic Background based on occasion -->
            <div id="dynamicBackground" class="dynamic-background"></div>
            <div id="snowContainer" class="snowflakes" style="display:none;">
                <div class="snowflake">‚ùÑÔ∏è</div><div class="snowflake">‚ùÑÔ∏è</div><div class="snowflake">‚ùÑÔ∏è</div><div class="snowflake">‚ùÑÔ∏è</div><div class="snowflake">‚ùÑÔ∏è</div>
                <div class="snowflake">‚ùÑÔ∏è</div><div class="snowflake">‚ùÑÔ∏è</div><div class="snowflake">‚ùÑÔ∏è</div><div class="snowflake">‚ùÑÔ∏è</div><div class="snowflake">‚ùÑÔ∏è</div>
            </div>
            <nav id="topAppNav" class="top-app-nav">
                <div class="nav-left">
                    <button class="btn cta-outline" id="topHomeBtn">Start</button>
                    <button class="hamburger" id="topMenuBtn" aria-label="Men√º"></button>
                </div>
        </nav>
        <div id="sidebarBackdrop" class="sidebar-backdrop"></div>

        <!-- Events Overview Screen -->
        <div id="mainMenuScreen" style="display: none;">
            <section class="hero-menu">
                <div class="hero-content">
                    <h1 class="hero-title">Die echte Wunschliste</h1>
                    <p class="hero-subtitle">Erstelle, teile und verwalte deine W√ºnsche ‚Äì schnell und sch√∂n.</p>
                    <div class="cta-row">
                        <button class="btn cta-primary" id="menuMyBtn">Meine Wunschliste</button>
                        <button class="btn cta-outline" id="menuOtherBtn">Andere Wunschlisten</button>
                    </div>
                    <div class="cta-row secondary">
                        <button class="btn cta-outline" id="menuSettingsBtn">Einstellungen</button>
                        <button class="btn cta-outline" id="menuProBtn">Pro</button>
                        <button class="btn cta-outline" id="menuInfoBtn">Informationen</button>
                    </div>
                </div>
                <div class="menu-pixels" aria-hidden="true"></div>
            </section>
        </div>

        <div id="eventsOverviewScreen">
            <header class="events-header">
                <div class="header-top">
                    <h1>Meine Wunschlisten</h1>
                    <div class="user-info">
                        <span id="userNameDisplay"></span>
                        <button class="btn btn-secondary btn-small" id="logoutBtn">Abmelden</button>
                    </div>
                </div>
            </header>
            <aside class="right-sidebar">
                <div class="sidebar-header">
                    <span>Men√º</span>
                    <button class="hamburger sidebar-toggle" aria-label="Men√º"></button>
                </div>
                <div class="sidebar-body">
                    <button class="btn btn-secondary btn-small" id="navMyBtn0">Meine Wunschliste</button>
                    <button class="btn btn-secondary btn-small" id="navOtherBtn0">Andere Wunschlisten</button>
                    <button class="btn btn-secondary btn-small" id="navSettingsBtn0">Einstellungen</button>
                    <button class="btn btn-secondary btn-small" id="navProBtn0">Pro</button>
                    <button class="btn btn-secondary btn-small" id="navInfoBtn0">Informationen</button>
                </div>
            </aside>

            <main class="events-main">
                <div class="events-container" id="eventsContainer">
                    <!-- Events werden hier dynamisch eingef√ºgt -->
                </div>
                <button class="btn btn-primary btn-large" id="createEventBtn">+ Neues Ereignis erstellen</button>
            </main>
        </div>

        <!-- Other Wishlists Screen -->
        <div id="otherWishlistsScreen" style="display: none;">
            <div class="layout-with-sidebar">
                <aside class="right-sidebar">
                    <div class="sidebar-header">
                        <span>Men√º</span>
                        <button class="hamburger sidebar-toggle" aria-label="Men√º"></button>
                    </div>
                    <div class="sidebar-body">
                        <button class="btn btn-secondary btn-small" id="navMyBtn">Meine Wunschliste</button>
                        <button class="btn btn-secondary btn-small" id="navOtherBtn">Andere Wunschlisten</button>
                        <button class="btn btn-secondary btn-small" id="navSettingsBtn">Einstellungen</button>
                        <button class="btn btn-secondary btn-small" id="navProBtn">Pro</button>
                        <button class="btn btn-secondary btn-small" id="navInfoBtn">Informationen</button>
                    </div>
                </aside>
                <section class="content">
                    <h2>Andere Wunschlisten</h2>
                    <div class="wishlist-container" id="otherListContainer"></div>
                </section>
            </div>
        </div>

        <!-- Account Settings Screen -->
        <div id="accountSettingsScreen" style="display: none;">
            <div class="layout-with-sidebar">
                <aside class="right-sidebar">
                    <div class="sidebar-header">
                        <span>Men√º</span>
                        <button class="hamburger sidebar-toggle" aria-label="Men√º"></button>
                    </div>
                    <div class="sidebar-body">
                        <button class="btn btn-secondary btn-small" id="navMyBtn2">Meine Wunschliste</button>
                        <button class="btn btn-secondary btn-small" id="navOtherBtn2">Andere Wunschlisten</button>
                        <button class="btn btn-secondary btn-small" id="navSettingsBtn2">Einstellungen</button>
                        <button class="btn btn-secondary btn-small" id="navProBtn2">Pro</button>
                        <button class="btn btn-secondary btn-small" id="navInfoBtn2">Informationen</button>
                    </div>
                </aside>
                <section class="content">
                    <h2>Account Einstellungen</h2>
                    <form id="accountSettingsForm" class="auth-form" style="max-width:700px;margin:0 auto;">
                        <div class="form-group">
                            <label for="accountEmail">Email</label>
                            <input type="email" id="accountEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="accountName">Name</label>
                            <input type="text" id="accountName" placeholder="Dein Name">
                        </div>
                        <div class="form-group">
                            <label for="accountBirthday">Geburtstag</label>
                            <input type="date" id="accountBirthday">
                        </div>
                        <div class="form-group">
                            <label for="accountPassword">Neues Passwort</label>
                            <input type="password" id="accountPassword" minlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="accountEmailNotifications"> Email‚ÄëBenachrichtigungen aktivieren
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="accountDefaultOccasion">Standard‚ÄëThema</label>
                            <select id="accountDefaultOccasion">
                                <option value="birthday">Geburtstag</option>
                                <option value="christmas">Weihnachten</option>
                                <option value="easter">Ostern</option>
                                <option value="valentine">Valentinstag</option>
                                <option value="anniversary">Jahrestag</option>
                                <option value="other">Sonstiges</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Speichern</button>
                        </div>
                        <div class="danger-zone" style="margin-top:14px;">
                            <button type="button" class="btn btn-delete" id="deleteAccountBtn">Konto l√∂schen</button>
                        </div>
                    </form>
                </section>
            </div>
        </div>

        <!-- Pro Screen -->
        <div id="proScreen" style="display: none;">
            <div class="layout-with-sidebar">
                <aside class="right-sidebar">
                    <div class="sidebar-header">
                        <span>Men√º</span>
                        <button class="hamburger sidebar-toggle" aria-label="Men√º"></button>
                    </div>
                    <div class="sidebar-body">
                        <button class="btn btn-secondary btn-small" id="navMyBtn3">Meine Wunschliste</button>
                        <button class="btn btn-secondary btn-small" id="navOtherBtn3">Andere Wunschlisten</button>
                        <button class="btn btn-secondary btn-small" id="navSettingsBtn3">Einstellungen</button>
                        <button class="btn btn-secondary btn-small" id="navProBtn3">Pro</button>
                        <button class="btn btn-secondary btn-small" id="navInfoBtn3">Informationen</button>
                    </div>
                </aside>
                <section class="content">
                    <h2>Pro Funktionen</h2>
                    <p>Pro kostet 1,5 Euro beim Inhaber dieser Website. Nach Zahlung erh√§ltst du einen Code per Email.</p>
                    <form id="proCodeForm" class="auth-form" style="max-width:500px;margin:20px auto;">
                        <div class="form-group">
                            <label for="proCode">Code eingeben</label>
                            <input type="password" id="proCode" placeholder="Code" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Freischalten</button>
                        </div>
                        <div class="plan-table" id="proPlanTable"></div>
                    </form>
                    <div class="data-table" id="proProjectTable"></div>
                    
                </section>
            </div>
        </div>

        <!-- Info Screen -->
        <div id="infoScreen" style="display: none;">
            <div class="layout-with-sidebar">
                <aside class="right-sidebar">
                    <div class="sidebar-header">
                        <span>Men√º</span>
                        <button class="hamburger sidebar-toggle" aria-label="Men√º"></button>
                    </div>
                    <div class="sidebar-body">
                        <button class="btn btn-secondary btn-small" id="navMyBtn4">Meine Wunschliste</button>
                        <button class="btn btn-secondary btn-small" id="navOtherBtn4">Andere Wunschlisten</button>
                        <button class="btn btn-secondary btn-small" id="navSettingsBtn4">Einstellungen</button>
                        <button class="btn btn-secondary btn-small" id="navProBtn4">Pro</button>
                        <button class="btn btn-secondary btn-small" id="navInfoBtn4">Informationen</button>
                    </div>
                </aside>
                <section class="content">
                    <h2>Informationen</h2>
                    <div class="info-grid">
                        <div class="info-block">
                            <h3>√úber diese Website</h3>
                            <p>Erstelle pers√∂nliche Wunschlisten, teile sie per Link und synchronisiere Geschenke mit Freunden. Preise werden automatisch erkannt und regelm√§√üig gepr√ºft.</p>
                        </div>
                        <div class="info-block">
                            <h3>Funktionen</h3>
                            <ul class="info-list">
                                <li>Mehrere Ereignisse pro Account</li>
                                <li>Teilen‚ÄëLinks mit Geschenk‚ÄëReservierung</li>
                                <li>Direkte Preis‚ÄëErkennung und t√§glicher Rabatt‚ÄëCheck</li>
                                <li>Gl√ºcksrad f√ºr Auswahl von Geschenken</li>
                                <li>Export und Statistiken</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Teilen & Reservierung</h3>
                            <ul class="info-list">
                                <li>Teile einen Link zur Ansicht deiner Wunschliste</li>
                                <li>Freunde markieren ‚ÄûIch schenke es‚Äú ‚Äì Name wird sichtbar</li>
                                <li>‚ÄûNicht haben wollen‚Äú ist nur im geteilten Link sichtbar</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Preispr√ºfung & Rabatte</h3>
                            <ul class="info-list">
                                <li>Automatische Preis‚ÄëErkennung √ºber Produkt‚ÄëURL</li>
                                <li>T√§glicher Rabatt‚ÄëCheck und aktualisierte Preise</li>
                                <li>Hinweise bei Preis√§nderungen (Pro)</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Datenschutz & Sicherheit</h3>
                            <ul class="info-list">
                                <li>Speicherung lokal im Browser deines Ger√§ts</li>
                                <li>Keine Weitergabe pers√∂nlicher Daten</li>
                                <li>Optionale Cookies nur f√ºr Funktion und Komfort</li>
                                <li>Geteilte Daten sind auf das gew√§hlte Ereignis beschr√§nkt</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Pro Vorteile</h3>
                            <ul class="info-list">
                                <li>Festliche Design‚ÄëThemen je Anlass</li>
                                <li>Pr√§sentations‚ÄëExport zus√§tzlich zu Text/JSON</li>
                                <li>Schneller Support</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>FAQ</h3>
                            <ul class="info-list">
                                <li>Wie teile ich? ‚Äì √úber ‚ÄûListe teilen‚Äú im Ereignis</li>
                                <li>Kann ich W√ºnsche ausblenden? ‚Äì Ja, mit ‚ÄûNicht haben wollen‚Äú</li>
                                <li>Wie √§ndere ich das Thema? ‚Äì In den Einstellungen des Ereignisses</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Projektstatus & Version</h3>
                            <ul class="info-list">
                                <li>Version: 1.0.0</li>
                                <li>Status: Stabil</li>
                                <li>Letztes Update: 13.11.2025</li>
                                <li>Release‚ÄëKanal: Live</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Technische Informationen</h3>
                            <ul class="info-list">
                                <li>Datenspeicherung: lokal im Browser (localStorage)</li>
                                <li>Geteilte Daten: pro Ereignis √ºber Share‚ÄëID</li>
                                <li>Cookies: optional f√ºr Komfort‚ÄëEinstellungen</li>
                                <li>Kompatibilit√§t: moderne Browser, Desktop und Mobile</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Roadmap</h3>
                            <ul class="info-list">
                                <li>Erweiterte Statistiken und KPIs</li>
                                <li>Qualit√§ts‚ÄëBoost f√ºr KI‚ÄëVorschl√§ge</li>
                                <li>Mehr Exportformate und Vorlagen</li>
                                <li>Performance‚ÄëOptimierungen</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Kontakt & Support</h3>
                            <p>Fragen oder Ideen? Schreibe uns √ºber den Bereich ‚ÄûKontaktinformationen‚Äú im Footer.</p>
                        </div>
                        <div class="info-block">
                            <h3>API‚ÄëSchl√ºssel & Sicherheit</h3>
                            <p>Nutze √∂ffentliche Schl√ºssel nur f√ºr nicht‚Äësensible Funktionen. Geheimnisse geh√∂ren immer auf den Server.</p>
                            <div style="display:flex;align-items:center;gap:10px;margin-top:8px;">
                                <code id="apiKeyDisplay" style="background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.12);padding:8px 10px;border-radius:10px;">‚Ä¢‚Ä¢‚Ä¢‚Ä¢</code>
                                <button class="btn btn-secondary btn-small" id="copyApiKeyBtn">Kopieren</button>
                            </div>
                            <ul class="info-list" style="margin-top:10px;">
                                <li>Keinen geheimen Key im Browser speichern</li>
                                <li>Serverless‚ÄëFunktionen nutzen f√ºr gesch√ºtzte Vorg√§nge</li>
                                <li>Rate‚ÄëLimits und Missbrauchsschutz beachten</li>
                            </ul>
                        </div>
                        <div class="info-block">
                            <h3>Kontaktformular</h3>
                            <form id="contactForm">
                                <div class="form-group"><label for="contactName">Dein Name</label><input id="contactName" type="text" required></div>
                                <div class="form-group"><label for="contactEmail">Deine Email</label><input id="contactEmail" type="email" required></div>
                                <div class="form-group"><label for="contactMessage">Nachricht</label><textarea id="contactMessage" rows="4" required></textarea></div>
                                <div class="form-actions"><button type="submit" class="btn btn-primary">Senden</button></div>
                                <small id="contactStatus" class="form-error"></small>
                            </form>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Event Detail Screen -->
        <div id="eventDetailScreen" style="display: none;">
            <header>
                <div class="header-top">
                    <button class="btn btn-secondary btn-small" id="backToEventsBtn">‚Üê Zur√ºck</button>
                    <h1 id="mainTitle">Meine Wunschliste</h1>
                    <div class="user-info">
                        <button class="btn btn-secondary btn-small" id="statsBtn">Statistiken</button>
                    </div>
                </div>
                <div class="countdown-large-container" id="countdownLargeContainer">
                    <div class="countdown-large" id="countdownLarge"></div>
                </div>
                <div class="header-buttons" id="headerButtons">
                    <button class="btn btn-primary" id="addWishBtn">+ Neuen Wunsch hinzuf√ºgen</button>
                    <button class="btn btn-secondary" id="settingsBtn">Einstellungen</button>
                    <button class="btn btn-share" id="shareBtn">Liste teilen</button>
                    <button class="btn btn-export" id="exportBtn">Exportieren</button>
                    <button class="btn btn-ai" id="aiSuggestBtn">KI-Vorschl√§ge</button>
                    <button class="btn btn-secondary" id="wheelBtn">Drehrad (gekaufte W√ºnsche)</button>
                </div>
                <div class="header-buttons" id="shareActions" style="display: none;">
                    <button class="btn btn-primary" id="shareWheelBtn">Gl√ºcksrad: Alle W√ºnsche</button>
                </div>
            </header>

        <main>
            <div class="controls-panel" id="controlsPanel">
                <div class="search-sort-container">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="W√ºnsche durchsuchen...">
                    </div>
                    <div class="sort-box">
                        <label for="sortSelect">Sortieren nach:</label>
                        <select id="sortSelect">
                            <option value="priority">Wunschst√§rke (h√∂chste zuerst)</option>
                            <option value="priority-asc">Wunschst√§rke (niedrigste zuerst)</option>
                            <option value="price">Preis (h√∂chste zuerst)</option>
                            <option value="price-asc">Preis (niedrigste zuerst)</option>
                            <option value="name">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="category">Kategorie</option>
                            <option value="newest">Neueste zuerst</option>
                            <option value="oldest">√Ñlteste zuerst</option>
                        </select>
                    </div>
                    <div class="filter-box">
                        <label for="categoryFilter">Kategorie filtern:</label>
                        <select id="categoryFilter">
                            <option value="">Alle Kategorien</option>
                        </select>
                    </div>
                </div>
                <div class="stats-panel" id="statsPanel">
                    <div class="stat-item">
                        <span class="stat-label">Anzahl:</span>
                        <span class="stat-value" id="wishCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Gesamtpreis:</span>
                        <span class="stat-value" id="totalPrice">0,00 ‚Ç¨</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">√ò Preis:</span>
                        <span class="stat-value" id="avgPrice">0,00 ‚Ç¨</span>
                    </div>
                </div>
            </div>
            <div id="wishlistContainer" class="wishlist-container">
                <div class="empty-state" id="emptyState">
                    <p>Noch keine W√ºnsche hinzugef√ºgt</p>
                    <p>Klicke auf "Neuen Wunsch hinzuf√ºgen" um zu beginnen!</p>
                </div>
            </div>
        </main>

        <!-- Modal zum Hinzuf√ºgen/Bearbeiten von W√ºnschen -->
        <div id="wishModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeModal">&times;</span>
                <h2 id="modalTitle">Neuen Wunsch hinzuf√ºgen</h2>
                <form id="wishForm">
                    <div class="form-group">
                        <label for="wishName">Name des Wunsches:</label>
                        <input type="text" id="wishName" required placeholder="z.B. PlayStation 5">
                    </div>
                    
                    <div class="form-group">
                        <label for="wishPrice">Preis (‚Ç¨):</label>
                        <input type="number" id="wishPrice" step="0.01" min="0" required placeholder="0.00">
                    </div>

                    <div class="form-group">
                        <label for="wishCategory">Kategorie:</label>
                        <select id="wishCategory" required>
                            <option value="">Bitte w√§hlen...</option>
                            <option value="Technik">Technik</option>
                            <option value="B√ºcher">B√ºcher</option>
                            <option value="Kleidung">Kleidung</option>
                            <option value="Spiele">Spiele</option>
                            <option value="Sport">Sport</option>
                            <option value="Schmuck">Schmuck</option>
                            <option value="M√∂bel">M√∂bel</option>
                            <option value="Erlebnisse">Erlebnisse</option>
                            <option value="Sonstiges">Sonstiges</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="wishDoNotWant">
                            Nicht haben wollen (nur im geteilten Link sichtbar)
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="wishProductUrl">Produkt-URL (f√ºr Preis-Erkennung):</label>
                        <input type="url" id="wishProductUrl" placeholder="https://shop.example.com/produkt">
                        <small id="detectedPriceInfo">Wenn gesetzt, wird der Preis automatisch ermittelt und t√§glich gepr√ºft.</small>
                    </div>

                    <div class="form-group">
                        <label for="wishImage">Bild-URL:</label>
                        <input type="url" id="wishImage" placeholder="https://example.com/bild.jpg">
                        <small>Oder lade ein Bild hoch:</small>
                        <input type="file" id="wishImageFile" accept="image/*">
                        <div id="imagePreview" class="image-preview"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="wishPriority">Wie sehr w√ºnsche ich es mir? (1-10):</label>
                        <div class="priority-container">
                            <input type="range" id="wishPriority" min="1" max="10" value="5">
                            <span id="priorityValue">5</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="wishGroupGift">
                            Als Gruppen-Geschenk markieren (mehrere Personen schenken zusammen)
                        </label>
                    </div>

                    <div class="form-group" id="groupGiftDetails" style="display: none;">
                        <label for="groupGiftNames">Namen der Schenkenden (durch Komma getrennt):</label>
                        <input type="text" id="groupGiftNames" placeholder="Max, Anna, Tom">
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">Abbrechen</button>
                        <button type="submit" class="btn btn-primary">Hinzuf√ºgen</button>
                    </div>
                </form>
            </div>
        </div>

        <button id="scrollTopBtn" class="scroll-top" aria-label="Nach oben">‚Üë</button>

        <!-- Wunschzettel-Einstellungen Modal -->
        <div id="wishlistSettingsModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeSettingsModal">&times;</span>
                <h2>Wunschzettel-Einstellungen</h2>
                <form id="wishlistSettingsForm">
                    <div class="form-group">
                        <label for="wishlistName">Name des Wunschzettels:</label>
                        <input type="text" id="wishlistName" required placeholder="z.B. Geburtstag 2024">
                    </div>
                    <div class="form-group">
                        <label for="wishlistOccasion">Anlass:</label>
                        <select id="wishlistOccasion" required>
                            <option value="birthday">Geburtstag</option>
                            <option value="christmas">Weihnachten</option>
                            <option value="easter">Ostern</option>
                            <option value="valentine">Valentinstag</option>
                            <option value="anniversary">Jahrestag</option>
                            <option value="other">Sonstiges</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wishlistDate">Datum:</label>
                        <input type="date" id="wishlistDate" required>
                    </div>
                    <div class="form-group">
                        <label for="wishlistBackground">Hintergrundbild (optional):</label>
                        <input type="url" id="wishlistBackground" placeholder="https://example.com/bild.jpg">
                        <small>Oder lade ein Bild hoch:</small>
                        <input type="file" id="wishlistBackgroundFile" accept="image/*">
                        <div id="backgroundPreview" class="image-preview"></div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelSettingsBtn">Abbrechen</button>
                        <button type="submit" class="btn btn-primary">Speichern</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Share Modal -->
        <div id="shareModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeShareModal">&times;</span>
                <h2>Wunschliste teilen</h2>
                <p>Teile diesen Link, um deine Wunschliste anzuzeigen (nur Ansicht, keine Bearbeitung):</p>
                <div class="share-link-container">
                    <input type="text" id="shareLink" readonly>
                    <button class="btn btn-primary" id="copyLinkBtn">Link kopieren</button>
                </div>
                <div class="share-qr">
                    <img id="shareQr" alt="QR-Code">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="generatePowerPoint">
                        Automatisch PowerPoint mit Gamma erstellen
                    </label>
                </div>
                <button class="btn btn-primary" id="generateGammaBtn" style="display: none;">PowerPoint mit Gamma erstellen</button>
                <p class="share-note">Im geteilten Modus kann die Liste nur angesehen, aber nicht bearbeitet werden.</p>
            </div>
        </div>

        <!-- Export Modal -->
        <div id="exportModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeExportModal">&times;</span>
                <h2>Wunschliste exportieren</h2>
                <div class="export-options">
                    <button class="btn btn-primary" id="exportTextBtn">Als Text exportieren</button>
                    <button class="btn btn-primary" id="exportJsonBtn">Als JSON exportieren</button>
                    <button class="btn btn-secondary" id="printBtn">Drucken</button>
                </div>
                <div id="exportPreview" class="export-preview"></div>
            </div>
        </div>

        <footer class="site-footer">
            <div class="footer-social">
                <a href="#" aria-label="Instagram">üì∑</a>
                <a href="#" aria-label="YouTube">‚ñ∂Ô∏è</a>
                <a href="#" aria-label="TikTok">üéµ</a>
            </div>
            <div class="footer-links">
                <span>¬© 2025 Wunschliste</span>
                <a href="#" id="openPrivacy">Datenschutzerkl√§rung</a>
                <a href="#" id="openRevocation">Widerrufsrecht</a>
                <a href="#" id="openAgb">AGB</a>
                <a href="#" id="openShipping">Versand</a>
                <a href="#" id="openContact">Kontaktinformationen</a>
                <a href="#" id="openImpressum">Impressum</a>
                <a href="#" id="footerCookieLink">Cookie-Einstellungen</a>
            </div>
        </footer>

        <div id="cookieBanner" class="cookie-banner">
            <div class="cookie-title">Antons Cookies</div>
            <div class="cookie-text">Wir verwenden Cookies f√ºr grundlegende Funktionen sowie optional f√ºr Analyse und Marketing. Du kannst zustimmen oder ablehnen.</div>
            <div class="cookie-actions">
                <button class="btn btn-secondary" id="openCookieSettings">Einstellungen</button>
                <button class="btn btn-primary" id="acceptCookiesBtn">Zustimmen</button>
                <button class="btn btn-secondary" id="rejectCookiesBtn">Ablehnen</button>
            </div>
        </div>

        <div id="cookieSettingsModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeCookieSettingsModal">&times;</span>
                <h2>Cookie-Einstellungen</h2>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="cookieNecessary" checked disabled>
                        Notwendig
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="cookieAnalytics">
                        Analyse
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="cookieMarketing">
                        Marketing
                    </label>
                </div>
                <div class="form-actions">
                    <button class="btn btn-secondary" id="cancelCookieSettings">Abbrechen</button>
                    <button class="btn btn-primary" id="saveCookieSettingsBtn">Speichern</button>
                </div>
            </div>
        </div>

        <!-- AI Suggestions Modal -->
        <div id="aiModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeAiModal">&times;</span>
                <h2>KI-Wunschvorschl√§ge</h2>
                <div class="form-group">
                    <label for="aiProvider">KI ausw√§hlen:</label>
                    <select id="aiProvider">
                        <option value="openai">OpenAI GPT</option>
                        <option value="claude">Claude (Anthropic)</option>
                        <option value="gemini">Google Gemini</option>
                        <option value="local">Lokale KI (Simuliert)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="aiPrompt">Beschreibe deine Interessen oder gib einen Hinweis:</label>
                    <textarea id="aiPrompt" rows="4" placeholder="z.B. Ich mag Gaming, Technik und Sport..."></textarea>
                </div>
                <button class="btn btn-primary" id="generateAiSuggestionsBtn">Vorschl√§ge generieren</button>
                <div id="aiSuggestions" class="ai-suggestions"></div>
            </div>
        </div>

        <!-- Statistics Modal -->
        <div id="statsModal" class="modal">
            <div class="modal-content modal-large">
                <span class="close" id="closeStatsModal">&times;</span>
                <h2>Statistiken</h2>
                <div class="stats-content">
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                    <div class="stats-details" id="statsDetails"></div>
                </div>
            </div>
        </div>

        <!-- Wheel Modal -->
        <div id="wheelModal" class="modal">
            <div class="modal-content modal-large">
                <span class="close" id="closeWheelModal">&times;</span>
                <h2>Drehrad der gekauften W√ºnsche</h2>
                <canvas id="wheelCanvas" width="480" height="480"></canvas>
                <div class="form-actions" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="spinWheelBtn">Drehen</button>
                </div>
                <div id="wheelList" class="ai-suggestions"></div>
                <div id="wheelConfirm" class="confirm-box" style="display:none;">
                    <div id="wheelConfirmText"></div>
                    <div class="form-actions" style="margin-top: 15px; gap: 10px; display: flex;">
                        <button class="btn btn-primary" id="wheelConfirmYes">Ja, ich schenke es</button>
                        <button class="btn btn-secondary" id="wheelConfirmNo">Nein</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div id="toast" class="toast"></div>
    </div>

        <!-- Share Name Modal -->
        <div id="shareNameModal" class="modal">
            <div class="modal-content">
                <h2>Dein Name</h2>
                <p>Bitte gib deinen Namen ein, damit der Besitzer der Wunschliste wei√ü, wer ihm etwas schenkt:</p>
                <form id="shareNameForm">
                    <div class="form-group">
                        <label for="shareNameInput">Dein Name:</label>
                        <input type="text" id="shareNameInput" required placeholder="z.B. Max Mustermann" autofocus>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Weiter</button>
                    </div>
                </form>
            </div>
        </div>

    <script src="script.js"></script>
</body>
</html>